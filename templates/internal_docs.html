<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex">
  <title>SecureLog Corp — Validación perfiles (interno)</title>
  <style>
    body { font-family: ui-monospace, monospace; font-size: 14px; max-width: 720px; margin: 24px auto; padding: 0 16px; color: #1a1a1a; background: #f8f8f8; }
    h1 { font-size: 1.1em; color: #333; border-bottom: 1px solid #ccc; padding-bottom: 6px; }
    h2 { font-size: 1em; margin-top: 20px; color: #444; }
    p { line-height: 1.5; color: #333; }
    pre { background: #fff; border: 1px solid #ddd; padding: 12px; overflow-x: auto; font-size: 13px; }
    code { background: #eee; padding: 1px 4px; }
    .note { color: #666; font-size: 0.95em; margin-top: 8px; }
    .muted { color: #888; font-size: 0.9em; }
  </style>
</head>
<body>
  <p class="muted">SecureLog Corp — Uso interno. No distribuir.</p>
  <h1>Validación de perfiles en plataforma InternLink</h1>
  <p>Para el equipo de RRHH y quien revise candidatos: cuando haya que comprobar o actualizar el rol de un perfil en la plataforma (p. ej. dar acceso temporal a coordinación para revisar expedientes), se usa el endpoint siguiente. La plataforma acepta el campo <code>role</code> entre otros.</p>
  <p><strong>Endpoint:</strong> <code>PUT /api/profile/update</code>. Enviar JSON con el campo <code>role</code> (valores: <code>student</code>, <code>company</code>, <code>coordinator</code>). La sesión debe ser la del usuario cuyo perfil se valida (obtener <code>session_token</code> desde el navegador, Application → Cookies). Base de la app: <code>{{ base_url }}</code></p>

  <h2>Linux / macOS</h2>
  <pre>curl -X PUT '{{ base_url }}api/profile/update' \
  -H 'Content-Type: application/json' \
  -H 'Cookie: session_token=TU_SESSION_TOKEN' \
  -d '{"role":"coordinator"}'</pre>

  <h2>Windows (PowerShell)</h2>
  <pre>curl.exe -X PUT "{{ base_url }}api/profile/update" -H "Content-Type: application/json" -H "Cookie: session_token=TU_SESSION_TOKEN" -d '{"role":"coordinator"}'</pre>

  <h2>Windows (CMD)</h2>
  <pre>curl -X PUT "{{ base_url }}api/profile/update" -H "Content-Type: application/json" -H "Cookie: session_token=TU_SESSION_TOKEN" -d "{^"role^":^"coordinator^"}"</pre>

  <p class="note">Sustituir <code>TU_SESSION_TOKEN</code> por el valor de la cookie de sesión del usuario. Para este flujo de validación usar <code>coordinator</code>. El rol <code>admin</code> no se asigna desde este endpoint (gestión aparte).</p>
</body>
</html>
